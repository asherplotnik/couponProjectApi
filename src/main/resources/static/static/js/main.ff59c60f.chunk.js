(this["webpackJsonpcoupon-client-typescript"]=this["webpackJsonpcoupon-client-typescript"]||[]).push([[0],Array(52).concat([function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c,a=n(1),s=n.n(a),o=n(42),r=n.n(o),l=(n(52),n(2)),i=n(26),j=n(47),d=n(12),u=function e(){Object(d.a)(this,e),this.session={token:"",name:"",userType:-1};var t=JSON.parse(localStorage.getItem("session"));t&&(this.session=t)};function b(e){return{type:c.SetSession,payload:e}}!function(e){e.SetSession="SetSession",e.RemoveSession="RemoveSession"}(c||(c={}));var h=Object(i.a)({SessionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new u,t=arguments.length>1?arguments[1]:void 0,n=Object(j.a)({},e);switch(t.type){case c.SetSession:n.session.token=t.payload.token,n.session.name=t.payload.name,n.session.userType=t.payload.userType,localStorage.setItem("session",JSON.stringify(n.session));break;case c.RemoveSession:n.session=null,localStorage.removeItem("session")}return n}}),O=Object(i.b)(h),m=(n(54),n(0));var p=function(){var e=Object(a.useState)(O.getState().SessionState.session.name),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=O.subscribe((function(){c(O.getState().SessionState.session.name)}));return function(){e()}}),[]),Object(m.jsxs)("div",{className:"Header",children:[Object(m.jsx)("h3",{children:"COUPON PROJECT"}),n&&Object(m.jsxs)("span",{children:["Hello ",n.substring(0,10),", you are logged in"]}),!n&&Object(m.jsx)("span",{children:" Hello user, please login. "})]})};n(56),n(57);var x=function(){return Object(m.jsx)("div",{className:"Footer",children:Object(m.jsx)("p",{children:"All rights reserved to Asher Plotnik \xa9"})})},f=n(18),v=n(8),C=n(28),g=n.n(C),y=n(44),S=(n(59),n(3)),D=n.n(S),k=n(21),N=n(20),F=function e(){Object(d.a)(this,e)},I=new(function(e){Object(k.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).urls={products:"https://ashercouponsystem.herokuapp.com/api/products/",couponImages:"https://ashercouponsystem.herokuapp.com/images/",localUrl:"https://ashercouponsystem.herokuapp.com/"},e}return n}(F)),w=(n(78),function(){return Object(m.jsx)("div",{className:"SpinnerLoader",children:"Loading..."})}),U=n(10),E=n(118);var L=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(-1),o=Object(l.a)(s,2),r=o[0],i=o[1],j=Object(v.g)(),d=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(document.querySelector("#loginForm")),a=n.get("password"),s=n.get("email"),c(!0),e.next=7,D.a.get(I.urls.localUrl+"login/".concat(s),{headers:{password:a}}).then((function(e){i(e.data.userType),O.dispatch(b({token:e.data.token,name:e.data.name,userType:e.data.userType})),c(!1)})).catch((function(e){c(!1),console.log(e),alert(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=Object(m.jsx)(w,{});switch(n||(u=Object(m.jsx)("div",{className:"Login",children:Object(m.jsxs)("div",{className:"wrapperDiv",children:[Object(m.jsx)("h3",{children:"LOGIN"}),Object(m.jsxs)(U.a,{className:"ulForm",id:"loginForm",onSubmit:d,children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Email :"}),Object(m.jsx)(U.a.Control,{id:"email",name:"email",required:!0,placeholder:"Enter email"})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Password:"}),Object(m.jsx)(U.a.Control,{id:"password",name:"password",required:!0,placeholder:"Password"})]}),Object(m.jsx)(E.a,{id:"submitButton",type:"submit",children:"SUBMIT"})]})]})})),r){case 0:j.push("/admin");break;case 1:j.push("/company");break;case 2:j.push("/customer")}return u},A=(n(84),n(85),n(86),n(19)),T=function(e){console.log(e.err&&e.err.response.data.message);var t=e.data;return t?Object(m.jsxs)("div",{className:"CompanyTable",children:[Object(m.jsx)("div",{className:"h3Div",children:Object(m.jsx)("h3",{children:e.title})}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Email"}),Object(m.jsx)("th",{children:"Password"})]})}),Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"1"}),Object(m.jsx)("td",{children:t.id}),Object(m.jsx)("td",{children:t.name}),Object(m.jsx)("td",{children:t.email}),Object(m.jsx)("td",{children:t.password})]})})]})]}):e.err?Object(m.jsx)("div",{className:"h3Div",children:Object(m.jsx)("h3",{children:e.err.response.data.message})}):null},G=function e(){Object(d.a)(this,e),this.id=0,this.name="",this.email="",this.password="",this.coupons=void 0};var q=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{className:"AddCompany",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Add Company"}),Object(m.jsxs)(U.a,{id:"addCompanyForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#addCompanyForm"));console.log(n.get("username"));var c=new G;c.id=0,c.name=n.get("username"),c.email=n.get("email"),c.password=n.get("password"),D.a.post(I.urls.localUrl+"api/admin/addCompany",c,{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e),console.log(e)}))},children:[Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Name: "}),Object(m.jsx)(U.a.Control,{name:"username",type:"text",minLength:4,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Email: "}),Object(m.jsx)(U.a.Control,{name:"email",type:"email",minLength:4,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"password: "}),Object(m.jsx)(U.a.Control,{name:"password",type:"password",minLength:6,required:!0})]})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]}),Object(m.jsx)(T,{err:j,data:s,title:"COMPANY ADDED SUCCESSFULLY"})]})},P=(n(87),n(88),function(e){console.log(e.err&&e.err.response.data.message);var t=e.data;return t?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"CustomerTable",children:Object(m.jsx)("h3",{children:e.title})}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"First Name"}),Object(m.jsx)("th",{children:"Last Name"}),Object(m.jsx)("th",{children:"Email"}),Object(m.jsx)("th",{children:"Password"})]})}),Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"1"}),Object(m.jsx)("td",{children:t.id}),Object(m.jsx)("td",{children:t.first_name}),Object(m.jsx)("td",{children:t.last_name}),Object(m.jsx)("td",{children:t.email}),Object(m.jsx)("td",{children:t.password})]})})]})]}):e.err?Object(m.jsx)("div",{className:"CustomerTable",children:Object(m.jsx)("h3",{children:e.err.response.data.message})}):null}),M=function e(){Object(d.a)(this,e),this.id=void 0,this.first_name=void 0,this.last_name=void 0,this.email=void 0,this.password=void 0,this.coupons=void 0};var B=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{className:"AddCustomer",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Add Customer"}),Object(m.jsxs)(U.a,{id:"addCustomerForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#addCustomerForm")),c=new M;c.id=0,c.last_name=n.get("lastname"),c.first_name=n.get("firstname"),c.email=n.get("email"),c.password=n.get("password"),D.a.post(I.urls.localUrl+"api/admin/addCustomer",c,{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e),console.log(e)}))},children:[Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"First Name: "}),Object(m.jsx)(U.a.Control,{name:"firstname",minLength:2,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Last Name: "}),Object(m.jsx)(U.a.Control,{name:"lastname",minLength:2,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Email: "}),Object(m.jsx)(U.a.Control,{name:"email",minLength:4,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"password: "}),Object(m.jsx)(U.a.Control,{name:"password",minLength:6,required:!0})]})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]}),Object(m.jsx)(P,{err:j,data:s,title:"CUSTOMER ADDED SUCCESSFULLY"})]})};n(89);var R=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=function(){D.a.get(I.urls.localUrl+"api/admin/getAllCompanies/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))};return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCompanies/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"DeleteCompany",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Delete Company"}),Object(m.jsx)(U.a,{id:"deleteCompanyForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#deleteCompanyForm")),c=parseInt(n.get("id"));o(null),D.a.delete(I.urls.localUrl+"api/admin/deleteCompany/"+c,{headers:{token:t}}).then((function(e){o(e.data),p()})).catch((function(e){O(e),console.log(e)}))},children:Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsxs)(U.a.Control,{name:"id",as:"select",id:"actionSelect",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),j&&Object(m.jsx)(m.Fragment,{children:j.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID)",e.id," Name: ",e.name]},e.id)}))})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]})}),Object(m.jsx)(T,{err:h,data:s,title:"COMPANY DELETED SUCCESSFULLY"})]})};n(90);var V=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=function(){D.a.get(I.urls.localUrl+"api/admin/getAllCustomers/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))};return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCustomers/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"DeleteCustomer",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Delete customer"}),Object(m.jsx)(U.a,{id:"deleteCustomerForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#deleteCustomerForm")),c=parseInt(n.get("id"));o(null),D.a.delete(I.urls.localUrl+"api/admin/deleteCustomer/"+c,{headers:{token:t}}).then((function(e){o(e.data),p()})).catch((function(e){O(e),console.log(e)}))},children:Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsxs)(U.a.Control,{name:"id",as:"select",id:"actionSelect",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),j&&Object(m.jsx)(m.Fragment,{children:j.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0"," Name: ",e.first_name," ",e.last_name]},e.id)}))})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]})}),Object(m.jsx)(P,{err:h,data:s,title:"CUSTOMER DELETED SUCCESSFULLY"})]})},_=n(11),Y=(n(91),function e(){Object(d.a)(this,e),this.response=void 0});var z=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(null),x=Object(l.a)(p,2),f=x[0],v=x[1],C=function(){D.a.get(I.urls.localUrl+"api/admin/getAllCompanies/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){v(e),console.log(e)}))};return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCompanies/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){v(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"UpdateCompany",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Update Company"}),Object(m.jsxs)(U.a,{id:"updateCompanyForm",onSubmit:function(e){if(e.preventDefault(),null!==j){var n=new FormData(document.querySelector("#updateCompanyForm")),c=new G;c.id=j.id,c.email=n.get("email"),c.password=n.get("password");var a=n.get("confirm");c.name=document.querySelector("#companyName").value,a===c.password?D.a.post(I.urls.localUrl+"api/admin/updateCompany",c,{headers:{token:t}}).then((function(e){C(),o(e.data)})).catch((function(e){v(e)})):alert("password don't match!!!")}},children:[Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsx)(U.a.Group,{children:Object(m.jsxs)(U.a.Control,{id:"companyId",name:"companyId",as:"select",size:"lg",onChange:function(e){e.preventDefault();var t=new FormData(document.querySelector("#updateCompanyForm"));if(""!==t.get("companyId")){var n,c=parseInt(t.get("companyId")),a=Object(_.a)(h);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.id===c)return void d(s)}}catch(f){a.e(f)}finally{a.f()}v(new Y)}},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),h&&Object(m.jsx)(m.Fragment,{children:h.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID)",e.id," Name: ",e.name]},e.id)}))})]})}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Name: "}),Object(m.jsx)(U.a.Control,{name:"companyName",id:"companyName",defaultValue:j&&j.name,disabled:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Email: "}),Object(m.jsx)(U.a.Control,{name:"email",type:"email",minLength:4,defaultValue:j&&j.email,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"password: "}),Object(m.jsx)(U.a.Control,{name:"password",type:"password",minLength:6,defaultValue:j&&j.password,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"confirm password: "}),Object(m.jsx)(U.a.Control,{name:"confirm",type:"password",minLength:6,required:!0})]})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]}),Object(m.jsx)(T,{err:f,data:s,title:"COMPANY UPDATED SUCCESSFULLY"})]})};n(92);var H=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(null),x=Object(l.a)(p,2),f=x[0],v=x[1],C=function(){D.a.get(I.urls.localUrl+"api/admin/getAllCustomers/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){v(e),console.log(e)}))};return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCustomers/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){v(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"UpdateCustomer",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Update Customer"}),Object(m.jsxs)(U.a,{id:"updateCustomerForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#updateCustomerForm")),c=new M;c.id=s.id,c.email=n.get("email"),c.password=n.get("password"),c.first_name=n.get("firstName"),c.last_name=n.get("lastName"),n.get("confirm")===c.password?D.a.post(I.urls.localUrl+"api/admin/updateCustomer",c,{headers:{token:t}}).then((function(e){C(),d(e.data)})).catch((function(e){v(e)})):alert("Password don't match!!")},children:[Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsxs)(U.a.Control,{id:"customerId",name:"customerId",as:"select",size:"lg",onChange:function(e){e.preventDefault();var t=new FormData(document.querySelector("#updateCustomerForm"));if(""!==t.get("customerId")){var n,c=parseInt(t.get("customerId")),a=Object(_.a)(h);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.id===c)return void o(s)}}catch(f){a.e(f)}finally{a.f()}v(new Y)}},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),h&&Object(m.jsx)(m.Fragment,{children:h.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0"," Name: ",e.first_name," ",e.last_name]},e.id)}))})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"First Name: "}),Object(m.jsx)(U.a.Control,{name:"firstName",id:"firstName",defaultValue:s&&s.first_name,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Last Name: "}),Object(m.jsx)(U.a.Control,{name:"lastName",id:"lastName",defaultValue:s&&s.last_name,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Email: "}),Object(m.jsx)(U.a.Control,{name:"email",type:"email",defaultValue:s&&s.email,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"password: "}),Object(m.jsx)(U.a.Control,{name:"password",type:"password",minLength:6,defaultValue:s&&s.password,required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"confirm password: "}),Object(m.jsx)(U.a.Control,{name:"confirm",type:"password",minLength:6,required:!0})]})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]}),Object(m.jsx)(P,{err:f,data:j,title:"CUSTOMER UPDATED SUCCESSFULLY"})]})},J=(n(93),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCompanies",{headers:{token:t}}).then((function(e){o(Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Companies List"}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Email"}),Object(m.jsx)("th",{children:"Password"})]},"-1")})," ",Object(m.jsx)("tbody",{children:e.data.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.id}),Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.email}),Object(m.jsx)("td",{children:e.password})]},t)}))})]})]}))})).catch((function(e){console.log(e)}))}),[t]),Object(m.jsx)("div",{className:"GetAllCompanies",children:s})}),W=(n(94),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCustomers",{headers:{token:t}}).then((function(e){o(Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"GetAllCustomers",children:"Customers List"}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"#"}),Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"First Name"}),Object(m.jsx)("th",{children:"Last Name"}),Object(m.jsx)("th",{children:"Email"}),Object(m.jsx)("th",{children:"Password"})]},"-1")})," ",Object(m.jsx)("tbody",{children:e.data.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.id}),Object(m.jsx)("td",{children:e.first_name}),Object(m.jsx)("td",{children:e.last_name}),Object(m.jsx)("td",{children:e.email}),Object(m.jsx)("td",{children:e.password})]},t)}))})]})]}))})).catch((function(e){console.log(e)}))}),[t]),Object(m.jsx)("div",{children:s})}),X=(n(95),n(96),function(e){var t=Object(a.useState)(-1),n=Object(l.a)(t,2),c=n[0],s=n[1],o=["","FOOD","MOVIE","DISCOUNT","RESTAURANT","VACATION"],r=function(e){s(e)},i=e.data;return i?Object(m.jsxs)("div",{className:"CouponsTable",children:[Object(m.jsx)("div",{className:"h3Div",children:Object(m.jsx)("h3",{children:e.title})}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:"tableRow",children:[Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"Category"}),Object(m.jsx)("th",{children:"Company ID"}),Object(m.jsx)("th",{children:"Title"}),Object(m.jsx)("th",{children:"Description"}),Object(m.jsx)("th",{children:"Start Date"}),Object(m.jsx)("th",{children:"End Date"}),Object(m.jsx)("th",{children:"Amount"}),Object(m.jsx)("th",{children:"Price"}),Object(m.jsx)("th",{children:"Image"})]})}),Object(m.jsx)("tbody",{children:i.map((function(t,n){return Object(m.jsxs)("tr",{className:c===n?"tableRow HoveredRow":"tableRow",onMouseEnter:function(){return r(n)},onMouseLeave:function(){return r(-1)},onClick:function(){return n=t.id,void(e.selectRow&&e.selectRow(n));var n},children:[Object(m.jsx)("td",{children:t.id}),Object(m.jsxs)("td",{children:["#",t.categoryId," -- ",o[t.categoryId]]}),Object(m.jsx)("td",{children:t.company.id}),Object(m.jsx)("td",{children:t.title}),Object(m.jsx)("td",{children:t.description}),Object(m.jsx)("td",{children:t.startDate}),Object(m.jsx)("td",{children:t.endDate}),Object(m.jsx)("td",{children:t.amount}),Object(m.jsx)("td",{children:t.price}),Object(m.jsx)("td",{children:Object(m.jsx)("div",{className:"BoxImage",children:Object(m.jsx)("img",{src:t.image,alt:t.image})})})]},n)}))})]})]}):e.err?Object(m.jsx)("div",{className:"h3Div",children:Object(m.jsx)("h3",{children:e.err.response.data.message})}):!0===e.showTitleWhenEmpty?Object(m.jsxs)("h3",{className:"h3Div",children:[" ",e.title," "]}):null}),Z=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(null),x=Object(l.a)(p,2),f=x[0],v=x[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCompanies/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){v(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"GetCompany",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Get Company details"}),Object(m.jsx)(U.a,{id:"getCompanyForm",children:Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Control,{name:"companyId",as:"select",id:"companyId",size:"lg",onChange:function(e){e.preventDefault();var n=new FormData(document.querySelector("#getCompanyForm")),c=parseInt(n.get("companyId"));o(null),d(null);var a,s=!1,r=Object(_.a)(h);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(l.id===c){o(l),s=!0;break}}}catch(f){r.e(f)}finally{r.f()}s||v(new Y),D.a.get(I.urls.localUrl+"api/admin/getCompanyCoupons/"+c,{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){v(e),console.log(e)}))},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),h&&Object(m.jsx)(m.Fragment,{children:h.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID)",e.id," Name: ",e.name]},e.id)}))})]})})}),Object(m.jsxs)("div",{children:[s&&Object(m.jsx)(T,{err:f,data:s,title:s.name}),j&&Object(m.jsx)(X,{data:j,title:"Company's Coupons"})]})]})},$=(n(97),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(null),x=Object(l.a)(p,2),f=x[0],v=x[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/admin/getAllCustomers/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){v(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"GetCustomer",children:[Object(m.jsx)(U.a,{id:"getCustomerForm",children:Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Control,{id:"customerId",name:"customerId",as:"select",size:"lg",onChange:function(e){e.preventDefault();var n=new FormData(document.querySelector("#getCustomerForm")),c=parseInt(n.get("customerId"));o(null),d(null);var a,s=!1,r=Object(_.a)(h);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(l.id===c){o(l),s=!0;break}}}catch(f){r.e(f)}finally{r.f()}s||v(new Y),D.a.get(I.urls.localUrl+"api/admin/getCustomerCoupons/"+c,{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){v(e),console.log(e)}))},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),h&&Object(m.jsx)(m.Fragment,{children:h.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0"," Name: ",e.first_name," ",e.last_name]},e.id)}))})]})})}),Object(m.jsxs)("div",{children:[s&&Object(m.jsx)(P,{err:f,data:s,title:s.first_name+" "+s.last_name}),j&&Object(m.jsx)(X,{data:j,title:"Customer's Coupons"})]})]})});n(98);var K=function(){var e=Object(v.g)();return console.log("UNAUTHORIZED"),Object(m.jsxs)("div",{className:"Unauthorized",children:[Object(m.jsx)("p",{children:"YOU ARE UNAUTHORIZED"}),Object(m.jsx)(E.a,{variant:"danger",onClick:function(){e.push("/login")},children:"Return to login"})]})};var Q=function(){var e,t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(O.getState().SessionState.session.token),r=Object(l.a)(o,2),i=r[0],j=r[1],d=Object(v.g)();if(Object(a.useEffect)((function(){j(O.getState().SessionState.session.token)}),[i]),!i||0!==O.getState().SessionState.session.userType)return Object(m.jsx)(K,{});switch(c){case 1:e=Object(m.jsx)(q,{token:i});break;case 2:e=Object(m.jsx)(R,{token:i});break;case 3:e=Object(m.jsx)(z,{token:i});break;case 4:e=Object(m.jsx)(Z,{token:i});break;case 5:e=Object(m.jsx)(J,{token:i});break;case 6:e=Object(m.jsx)(B,{token:i});break;case 7:e=Object(m.jsx)(V,{token:i});break;case 8:e=Object(m.jsx)(H,{token:i});break;case 9:e=Object(m.jsx)($,{token:i});break;case 10:e=Object(m.jsx)(W,{token:i});break;case 11:O.dispatch(b({token:"",name:"",userType:-1})),d.push("/login");break;default:e=Object(m.jsx)("div",{})}return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"h2",children:"Admin Menu"}),Object(m.jsxs)("div",{className:"Admin",children:[Object(m.jsx)(U.a,{id:"actionForm",children:Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Choose Action: "}),Object(m.jsxs)(U.a.Control,{onChange:function(e){e.preventDefault(),s(parseInt(e.target.value))},name:"action",as:"select",id:"actionSelect",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- Choose one --"}),Object(m.jsx)("option",{value:"1",children:" Add new company"}),Object(m.jsx)("option",{value:"2",children:" Delete company"}),Object(m.jsx)("option",{value:"3",children:" Update company details"}),Object(m.jsx)("option",{value:"4",children:" Get company details"}),Object(m.jsx)("option",{value:"5",children:" Get all companies"}),Object(m.jsx)("option",{value:"6",children:" Add customer"}),Object(m.jsx)("option",{value:"7",children:" Delete customer"}),Object(m.jsx)("option",{value:"8",children:" Update customer details"}),Object(m.jsx)("option",{value:"9",children:" Get customer details"}),Object(m.jsx)("option",{value:"10",children:" Get all customers"}),Object(m.jsx)("option",{value:"11",children:" Exit"})]})]})}),Object(m.jsx)("div",{className:"SubFormAdmin",children:e})]})]})};n(99),n(100),n(101);var ee=function(e){return Object(m.jsx)("div",{className:"CouponCard",children:Object(m.jsxs)("div",{className:"BorderBox",children:[Object(m.jsxs)("div",{className:"Box",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["ID: ",e.data.id]}),Object(m.jsxs)("p",{children:["TITLE: ",e.data.title]}),Object(m.jsxs)("p",{children:["DESCRIPTION: ",e.data.description]}),Object(m.jsxs)("p",{children:["CATEGORY:#",e.data.categoryId," -- ",["","FOOD","MOVIE","DISCOUNT","RESTAURANT","VACATION"][e.data.categoryId]]})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["START DATE: ",e.data.startDate]}),Object(m.jsxs)("p",{children:["END DATE ",e.data.endDate]}),Object(m.jsxs)("p",{children:["PRICE: $",e.data.price]}),Object(m.jsxs)("p",{children:["AVAILABLE: ",e.data.amount]})]})]}),Object(m.jsx)("div",{className:"BoxImage",children:Object(m.jsx)("img",{src:e.data.image,alt:e.data.image})})]})})},te=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{className:"AddCoupon",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Add Coupon"}),Object(m.jsxs)(U.a,{id:"addCouponForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#addCouponForm"));n.append("id","0"),n.append("image",n.get("imageFile").name),0===+n.get("categoryId")&&alert("Must choose category"),D.a.post(I.urls.localUrl+"api/company/addCoupon",n,{headers:{token:t,"Content-Type":"multipart/form-data"}}).then((function(e){o(e.data)})).catch((function(e){d(e),console.log(e)}))},children:[Object(m.jsxs)("div",{className:"AddCouponFormDiv",children:[Object(m.jsxs)("div",{className:"AddCouponFormDivColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Category: "}),Object(m.jsxs)(U.a.Control,{name:"categoryId",as:"select",className:"FormEl",children:[Object(m.jsx)("option",{value:"0",children:"-- Choose one --"}),Object(m.jsx)("option",{value:"1",children:" Food"}),Object(m.jsx)("option",{value:"2",children:" Movie"}),Object(m.jsx)("option",{value:"3",children:" Discount"}),Object(m.jsx)("option",{value:"4",children:" Restaurant"}),Object(m.jsx)("option",{value:"5",children:" Vacation"})]})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Title: "}),Object(m.jsx)(U.a.Control,{name:"title",required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Start date: "}),Object(m.jsx)(U.a.Control,{type:"date",name:"startDate",required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"End date: "}),Object(m.jsx)(U.a.Control,{type:"date",name:"endDate",required:!0})]})]}),Object(m.jsxs)("div",{className:"AddCouponFormDivColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Description: "}),Object(m.jsx)(U.a.Control,{name:"description",required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Amount: "}),Object(m.jsx)(U.a.Control,{type:"number",name:"amount",required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Price: "}),Object(m.jsx)(U.a.Control,{type:"number",step:"0.1",name:"price",required:!0})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Image: "}),Object(m.jsx)(U.a.Control,{name:"imageFile",type:"file",required:!0})]})]})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]}),Object(m.jsxs)("div",{children:[s&&Object(m.jsx)("h4",{children:"COUPON ADDED SUCCESSFULLY"}),s&&Object(m.jsx)(ee,{err:j,data:s})]})]})},ne=(n(102),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=function(){D.a.get(I.urls.localUrl+"api/company/getCompanyCoupons/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))};return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/company/getCompanyCoupons/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"DeleteCoupon",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Delete Coupon"}),Object(m.jsx)(U.a,{id:"deleteCouponForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#deleteCouponForm")),c=parseInt(n.get("id"));D.a.delete(I.urls.localUrl+"api/company/deleteCoupon/"+c,{headers:{token:t}}).then((function(e){p(),o(e.data)})).catch((function(e){O(e),console.log(e)}))},children:Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Group,{children:[Object(m.jsxs)(U.a.Control,{name:"id",as:"select",id:"actionSelect",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),j&&Object(m.jsx)(m.Fragment,{children:j.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0","Title: ",e.title]},e.id)}))})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]})})}),s&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{children:"COUPON DELETED SUCCESSFULLY"}),Object(m.jsx)(ee,{err:h,data:s})," "]})]})}),ce=(n(103),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)("0"),x=Object(l.a)(p,2),f=x[0],v=x[1],C=Object(a.useState)(null),g=Object(l.a)(C,2),y=g[0],S=g[1],k=function(){D.a.get(I.urls.localUrl+"api/company/getCompanyCoupons",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){S(e),console.log(e)}))};Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/company/getCompanyCoupons/",{headers:{token:t}}).then((function(e){O(e.data)})).catch((function(e){S(e),console.log(e)}))}),[t]);return Object(m.jsxs)("div",{className:"UpdateCouponWrapper",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Update Coupon"}),Object(m.jsxs)(U.a,{id:"updateCouponForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#updateCouponForm"));n.append("id",s.id.toString()),n.get("imageFile")&&n.append("image",n.get("imageFile").name),"0"===n.get("categoryId")&&alert("Must choose category"),D.a.post(I.urls.localUrl+"api/company/updateCoupon",n,{headers:{token:t,"Content-Type":"multipart/form-data"}}).then((function(e){k(),o(null),d(e.data)})).catch((function(e){S(e)}))},children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"ID: "}),Object(m.jsx)("div",{className:"UpdateCouponFormColl",children:Object(m.jsxs)(U.a.Control,{name:"couponId",as:"select",id:"couponId",size:"lg",onChange:function(e){e.preventDefault();var t=new FormData(document.querySelector("#updateCouponForm"));if(""!==t.get("couponId")){var n,c=parseInt(t.get("couponId")),a=Object(_.a)(h);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.id===c)return document.getElementById("updateCouponForm").reset(),o(s),void v(s.categoryId.toString())}}catch(y){a.e(y)}finally{a.f()}document.getElementById("updateCouponForm").reset(),S(new Y)}},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),h&&Object(m.jsx)(m.Fragment,{children:h.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0","Title: ",e.title]},e.id)}))})]})})]}),Object(m.jsxs)("div",{className:"UpdateCouponFormDiv",children:[Object(m.jsxs)("div",{className:"UpdateCouponFormDivColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Category: "}),Object(m.jsxs)(U.a.Control,{name:"categoryId",as:"select",className:"FormEl",value:f,onChange:function(e){v(e.target.value)},children:[Object(m.jsx)("option",{value:"0",children:"-- Choose one --"}),Object(m.jsx)("option",{value:"1",children:" Food"}),Object(m.jsx)("option",{value:"2",children:" Movie"}),Object(m.jsx)("option",{value:"3",children:" Discount"}),Object(m.jsx)("option",{value:"4",children:" Restaurant"}),Object(m.jsx)("option",{value:"5",children:" Vacation"})]})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Title: "}),Object(m.jsx)(U.a.Control,{name:"title",defaultValue:s&&s.title})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Description: "}),Object(m.jsx)(U.a.Control,{name:"description",defaultValue:s&&s.description})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Start date: "}),Object(m.jsx)(U.a.Control,{type:"date",name:"startDate",defaultValue:s&&s.startDate.toString()})]})]}),Object(m.jsxs)("div",{className:"UpdateCouponFormDivColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"End date: "}),Object(m.jsx)(U.a.Control,{type:"date",name:"endDate",defaultValue:s&&s.endDate.toString()})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Amount: "}),Object(m.jsx)(U.a.Control,{type:"number",name:"amount",defaultValue:s&&s.amount})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Price: "}),Object(m.jsx)(U.a.Control,{name:"price",type:"number",step:"0.1",defaultValue:s&&s.price})]}),Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Image: "}),Object(m.jsx)(U.a.Control,{type:"file",name:"imageFile"})]})]})]}),Object(m.jsx)(E.a,{type:"submit",children:"SUBMIT"})]}),Object(m.jsxs)("div",{children:[s&&Object(m.jsx)(ee,{err:y,data:s}),j&&Object(m.jsx)("h4",{children:"COUPON UPDATED SUCCESSFULLY"}),j&&Object(m.jsx)(ee,{err:y,data:j})]})]})}),ae=(n(104),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{className:"GetCompanyCouponsByCategoryId",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Get Company coupons by category ID"}),Object(m.jsx)(U.a,{id:"fetchCouponsByIdForm",children:Object(m.jsx)("div",{className:"innerFormDiv",children:Object(m.jsxs)(U.a.Control,{name:"categoryId",as:"select",id:"categoryId",size:"lg",onChange:function(e){e.preventDefault();var n=new FormData(document.querySelector("#fetchCouponsByIdForm")),c=parseInt(n.get("categoryId"));""!==n.get("categoryId")?D.a.get(I.urls.localUrl+"api/company/getCompanyCouponsByCategory/"+c,{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){console.log(e),d(e)})):o(null)},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),Object(m.jsx)("option",{value:"1",children:"1) Food"}),Object(m.jsx)("option",{value:"2",children:"2) Movie"}),Object(m.jsx)("option",{value:"3",children:"3) Discount"}),Object(m.jsx)("option",{value:"4",children:"4) Restaurant"}),Object(m.jsx)("option",{value:"5",children:"5) Vacation"})]})})}),s&&Object(m.jsx)(X,{err:j,data:s,title:"Coupons list"})]})}),se=(n(105),function(e){var t=e.token,n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/company/getCompanyCoupons",{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e)}))}),[t]),Object(m.jsx)("div",{className:"GetCompanyCoupons",children:Object(m.jsx)(X,{err:j,data:s,title:"Coupons List"})})}),oe=(n(106),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{className:"GetCompanyCouponsByMaxPrice",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Get Company coupons by Max Price"}),Object(m.jsx)(U.a,{id:"fetchCouponsByPriceForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#fetchCouponsByPriceForm")),c=parseFloat(n.get("mPrice"));D.a.get(I.urls.localUrl+"api/company//getCompanyCouponsByMaxPrice/"+c,{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e)}))},children:Object(m.jsxs)("div",{className:"innerFormDiv",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"MAXIMUM PRICE: "}),Object(m.jsx)(U.a.Control,{id:"mPrice",name:"mPrice"})]}),Object(m.jsx)(E.a,{type:"submit",children:"FETCH"})]})}),s&&Object(m.jsx)(X,{err:j,data:s,title:"Coupons List"})]})}),re=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/company/getCompanyDetails",{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e),console.log(e)}))}),[t]),s?Object(m.jsx)(T,{err:j,data:s,title:s.name}):null};n(107);var le=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/company/getCompanyCoupons/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"GetCompanyCoupon",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Get Coupon details"}),Object(m.jsx)(U.a,{id:"getCouponForm",children:Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Control,{name:"couponId",as:"select",id:"couponId",size:"lg",onChange:function(e){e.preventDefault();var t,n=new FormData(document.querySelector("#getCouponForm")),c=parseInt(n.get("couponId")),a=Object(_.a)(j);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(s.id===c){o(s);break}O(new Y)}}catch(h){a.e(h)}finally{a.f()}},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),j&&Object(m.jsx)(m.Fragment,{children:j.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0","Title: ",e.title]},e.id)}))})]})})}),Object(m.jsx)("div",{children:s&&Object(m.jsx)(ee,{err:h,data:s})})]})},ie=function(){var e,t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(O.getState().SessionState.session.token),r=Object(l.a)(o,2),i=r[0],j=r[1],d=Object(v.g)();if(Object(a.useEffect)((function(){j(O.getState().SessionState.session.token)}),[i]),!i||1!==O.getState().SessionState.session.userType)return Object(m.jsx)(K,{});switch(c){case 1:e=Object(m.jsx)(te,{token:i});break;case 2:e=Object(m.jsx)(ne,{token:i});break;case 3:e=Object(m.jsx)(ce,{token:i});break;case 4:e=Object(m.jsx)(le,{token:i});break;case 5:e=Object(m.jsx)(se,{token:i});break;case 6:e=Object(m.jsx)(ae,{token:i});break;case 7:e=Object(m.jsx)(oe,{token:i});break;case 8:e=Object(m.jsx)(re,{token:i});break;case 9:O.dispatch(b({token:"",name:"",userType:-1})),d.replace("/login");break;default:e=Object(m.jsx)("div",{})}return Object(m.jsxs)("div",{className:"Company",children:[Object(m.jsx)("h3",{children:"Company Menu"}),Object(m.jsxs)("div",{className:"FormDiv",children:[Object(m.jsx)(U.a,{id:"actionForm",children:Object(m.jsx)("div",{className:"Field",children:Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Choose Action: "}),Object(m.jsxs)(U.a.Control,{onChange:function(e){e.preventDefault(),s(parseInt(e.target.value))},value:c,name:"action",as:"select",id:"actionSelect",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),Object(m.jsx)("option",{value:"1",children:" add new coupon"}),Object(m.jsx)("option",{value:"2",children:" delete coupon"}),Object(m.jsx)("option",{value:"3",children:" update coupon details"}),Object(m.jsx)("option",{value:"4",children:" get company coupon by ID"}),Object(m.jsx)("option",{value:"5",children:" get company coupons"}),Object(m.jsx)("option",{value:"6",children:" get company coupons by category"}),Object(m.jsx)("option",{value:"7",children:" get company coupons by max price"}),Object(m.jsx)("option",{value:"8",children:" get company details"}),Object(m.jsx)("option",{value:"9",children:" exit"})]})]})})}),Object(m.jsx)("div",{className:"SubFormCompany",children:e})]})]})},je=(n(108),n(109),n(46)),de=(n(110),n(111),function(e){return e.show?Object(m.jsx)("div",{className:"Backdrop",onClick:function(){return e.clicked()}}):Object(m.jsx)(m.Fragment,{})}),ue=function(e){Object(k.a)(n,e);var t=Object(N.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(je.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.show!==this.props.show}},{key:"render",value:function(){return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(de,{show:this.props.show,clicked:this.props.modalClosed}),Object(m.jsx)("div",{className:"Modal",style:{width:this.props.width,left:this.props.left,transform:this.props.show?"translateY(0)":"translateY(-200vh)",opacity:this.props.show?1:0},children:this.props.children})]})}}]),n}(a.Component),be=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),f=x[0],v=x[1],C=Object(a.useState)(-1),g=Object(l.a)(C,2),y=g[0],S=g[1];Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/customer/getAvailableCouponsforCustomer",{headers:{token:t}}).then((function(e){o(e.data),console.log(Object.keys(e.data).length)})).catch((function(e){O(e)}))}),[t,j]);var k=function(){v(!f)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(ue,{show:f,modalClosed:k,width:"45%",left:"27.5%",children:[Object(m.jsx)("p",{children:"ARE YOU SURE?"}),s&&Object(m.jsx)(ee,{data:s.filter((function(e){return e.id===y}))[0],err:h}),Object(m.jsx)(E.a,{onClick:function(){D.a.post(I.urls.localUrl+"api/customer/purchaseCoupon/"+y,{},{headers:{token:t}}).then((function(e){d(e.data),k()})).catch((function(e){O(e),k(),console.log(e)}))},children:"YES"}),Object(m.jsx)(E.a,{variant:"danger",onClick:k,children:"NO"})]}),Object(m.jsx)("div",{className:"PurchaseCoupon",children:Object(m.jsx)("h3",{className:"h3Div",children:"Purchase Coupon"})}),s&&Object(m.jsx)(X,{err:h,showTitleWhenEmpty:!0,data:s,selectRow:function(e){S(e),v(!f)},title:Object.keys(s).length>0?"AVAILABLE COUPONS":"NO COUPONS AVAILABLE"}),j&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{children:"Coupon purchased successfully"}),Object(m.jsx)(ee,{err:h,data:j})]})]})},he=(n(112),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/customer/getCustomerCoupons",{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){o(e)}))}),[t]),Object(m.jsx)("div",{className:"GetCustomerCoupons",children:Object(m.jsx)(X,{data:s,title:"Customer's Coupons"})})}),Oe=(n(113),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"GetCustomerCouponsByCategory",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Customer's Coupons by Category ID"}),Object(m.jsx)(U.a,{id:"fetchCouponsByIdForm",children:Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Control,{name:"categoryId",as:"select",id:"categoryId",size:"lg",onChange:function(e){e.preventDefault();var n=new FormData(document.querySelector("#fetchCouponsByIdForm")),c=parseInt(n.get("categoryId"));""!==n.get("categoryId")?D.a.get(I.urls.localUrl+"api/customer/getCustomerCouponsByCategory/"+c,{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e)})):o(null)},children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),Object(m.jsx)("option",{value:"1",children:"1) Food"}),Object(m.jsx)("option",{value:"2",children:"2) Movie"}),Object(m.jsx)("option",{value:"3",children:"3) Discount"}),Object(m.jsx)("option",{value:"4",children:"4) Restaurant"}),Object(m.jsx)("option",{value:"5",children:"5) Vacation"})]})})})]}),Object(m.jsx)("br",{}),s&&Object(m.jsx)(X,{err:j,data:s,title:"Coupons List"})]})}),me=(n(114),function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"GetCustomerCouponsByMaxPrice",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Customer's Coupons by Max Price"}),Object(m.jsx)(U.a,{id:"fetchCouponsByPriceForm",onSubmit:function(e){e.preventDefault();var n=new FormData(document.querySelector("#fetchCouponsByPriceForm")),c=parseFloat(n.get("mPrice"));D.a.get(I.urls.localUrl+"api/customer/getCustomerCouponsByMaxPrice/"+c,{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e)}))},children:Object(m.jsxs)("div",{className:"FormColl",children:[Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"MAX PRICE: "}),Object(m.jsx)(U.a.Control,{id:"mPrice",name:"mPrice"})]}),Object(m.jsx)(E.a,{type:"submit",children:"FETCH"})]})})]}),Object(m.jsx)("br",{}),Object(m.jsx)(X,{err:j,data:s,title:"Coupons List"})]})}),pe=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/customer/getCustomerDetails",{headers:{token:t}}).then((function(e){o(e.data)})).catch((function(e){d(e),console.log(e)}))}),[t]),s?Object(m.jsx)(P,{err:j,data:s,title:s.first_name+" "+s.last_name}):null};n(115);var xe=function(e){var t=e.token,n=Object(a.useState)(null),c=Object(l.a)(n,2),s=c[0],o=c[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],u=Object(a.useState)(null),b=Object(l.a)(u,2),h=b[0],O=b[1];return Object(a.useEffect)((function(){D.a.get(I.urls.localUrl+"api/customer/getCustomerCoupons/",{headers:{token:t}}).then((function(e){d(e.data)})).catch((function(e){O(e),console.log(e)}))}),[t]),Object(m.jsxs)("div",{className:"GetCustomerCoupon",children:[Object(m.jsx)("h3",{className:"h3Div",children:"Get Coupon details"}),Object(m.jsxs)(U.a,{id:"getCouponForm",onSubmit:function(e){e.preventDefault();var t=new FormData(document.querySelector("#getCouponForm")),n=parseInt(t.get("couponId"));if(""!==t.get("couponId")){var c,a=Object(_.a)(j);try{for(a.s();!(c=a.n()).done;){var s=c.value;if(s.id===n){o(s);break}O(new Y)}}catch(h){a.e(h)}finally{a.f()}}else o(null)},children:[Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Control,{name:"couponId",as:"select",id:"couponId",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),j&&Object(m.jsx)(m.Fragment,{children:j.map((function(e){return Object(m.jsxs)("option",{value:e.id,children:["ID) ",e.id,"\xa0"," ","\xa0","\xa0","Title: ",e.title]},e.id)}))})]})}),Object(m.jsx)(E.a,{type:"submit",children:"FETCH"})]}),Object(m.jsx)("div",{children:s&&Object(m.jsx)(ee,{err:h,data:s})})]})};var fe=function(){var e,t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(O.getState().SessionState.session.token),r=Object(l.a)(o,2),i=r[0],j=r[1],d=Object(v.g)();if(Object(a.useEffect)((function(){j(O.getState().SessionState.session.token)}),[i]),!i||2!==O.getState().SessionState.session.userType)return Object(m.jsx)(K,{});switch(c){case 1:e=Object(m.jsx)(be,{token:i});break;case 2:e=Object(m.jsx)(xe,{token:i});break;case 3:e=Object(m.jsx)(he,{token:i});break;case 4:e=Object(m.jsx)(Oe,{token:i});break;case 5:e=Object(m.jsx)(me,{token:i});break;case 6:e=Object(m.jsx)(pe,{token:i});break;case 7:O.dispatch(b({token:"",name:"",userType:-1})),d.replace("/login");break;default:e=Object(m.jsx)("div",{})}return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"CustomerH2",children:"customer Menu"}),Object(m.jsxs)("div",{className:"Customer",children:[Object(m.jsx)(U.a,{id:"actionForm",children:Object(m.jsx)("div",{className:"FormColl",children:Object(m.jsxs)(U.a.Group,{children:[Object(m.jsx)(U.a.Label,{children:"Choose Action: "}),Object(m.jsxs)(U.a.Control,{onChange:function(e){e.preventDefault(),s(parseInt(e.target.value))},name:"action",as:"select",id:"actionSelect",size:"lg",children:[Object(m.jsx)("option",{value:"",children:"-- choose one --"}),Object(m.jsx)("option",{value:"1",children:" purchase coupon"}),Object(m.jsx)("option",{value:"2",children:" get customer coupon by ID"}),Object(m.jsx)("option",{value:"3",children:" get customer coupons"}),Object(m.jsx)("option",{value:"4",children:" get customer coupons by category"}),Object(m.jsx)("option",{value:"5",children:" get customer coupons by max price"}),Object(m.jsx)("option",{value:"6",children:" get customer details"}),Object(m.jsx)("option",{value:"7",children:" exit"})]})]})})}),Object(m.jsx)("div",{className:"SubFormCustomer",children:e})]})]})},ve=function(){return Object(m.jsx)(f.a,{children:Object(m.jsxs)("div",{className:"Layout",children:[Object(m.jsx)("header",{children:Object(m.jsx)(p,{})}),Object(m.jsx)("main",{children:Object(m.jsxs)(v.d,{children:[Object(m.jsx)(v.b,{path:"/login",component:L,exact:!0}),Object(m.jsx)(v.b,{path:"/admin",component:Q,exact:!0}),Object(m.jsx)(v.b,{path:"/company",component:ie,exact:!0}),Object(m.jsx)(v.b,{path:"/customer",component:fe,exact:!0}),Object(m.jsx)(v.a,{from:"/",to:"/login"})]})}),Object(m.jsx)("footer",{children:Object(m.jsx)(x,{})})]})})};n(116);r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(ve,{})}),document.getElementById("root"))}]),[[117,1,2]]]);
//# sourceMappingURL=main.ff59c60f.chunk.js.map